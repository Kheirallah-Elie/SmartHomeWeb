<!-- app.component.html -->

<router-outlet></router-outlet>

<h1 style="text-align: center;">Users</h1>
<div class="user-container">
  <div *ngFor="let user of users" class="user-card">
    <h2 class="user-name">{{ user.name }}</h2>
    <div *ngFor="let home of user.homes" class="home-card">
      <h3 class="home-nickname">{{ home.nickname }}</h3>
      <div *ngFor="let room of home.rooms" class="room-card">
        <h4 class="room-name">{{ room.name }}</h4>
        <ul class="device-list">
          <li *ngFor="let device of room.devices" class="device-item">
            <span class="device-description">{{ device.description }}</span> -
            <span class="device-state" [ngClass]="{'on': device.state, 'off': !device.state}">
              {{ device.state ? 'On' : 'Off' }}
            </span>
            <button (click)="toggleDeviceState(user.userId, home.homeId, room.roomId, device.deviceId)">
                Toggle Device
            </button>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>





<!-- Le but serait de pouvoir afficher cette page pour commencer, il faut resoudre un souci de routage '--> <!-- le problem est en realite dans l'import sur le fichier app.modules.ts qui n'a pas etait fait...'-->
